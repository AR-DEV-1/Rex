-- MAP OBJECT --

	object_const_def
	const_export VERMILIONOLDRODHOUSE_FISHING_GURU

VermilionOldRodHouse_Object:
	db $a ; border block

	def_warp_events
	warp_event  2,  7, LAST_MAP, 9
	warp_event  3,  7, LAST_MAP, 9

	def_bg_events

	def_object_events
	object_event  2,  4, SPRITE_FISHING_GURU, STAY, RIGHT, TEXT_VERMILIONOLDRODHOUSE_FISHING_GURU

	def_warps_to VERMILION_OLD_ROD_HOUSE


-- MAP HEADER --

	map_header VermilionOldRodHouse, VERMILION_OLD_ROD_HOUSE, HOUSE, 0
	end_map_header


-- MAP TEXT --

_VermilionOldRodHouseFishingGuruDoYouLikeToFishText::
	text "I'm the FISHING"
	line "GURU!"

	para "I simply Looove"
	line "fishing!"

	para "Do you like to"
	line "fish?"
	done

_VermilionOldRodHouseFishingGuruTakeThisText::
	text "Grand! I like"
	line "your style!"

	para "Take this and"
	line "fish, young one!"

	para "<PLAYER> received"
	line "an @"
	text_ram wStringBuffer
	text "!@"
	text_end

_VermilionOldRodHouseFishingGuruFishingIsAWayOfLifeText::
	text_start

	para "Fishing is a way"
	line "of life!"

	para "From the seas to"
	line "rivers, go out"
	cont "and land the big"
	cont "one, young one!"
	done

_VermilionOldRodHouseFishingGuruThatsSoDisappointingText::
	text "Oh... That's so"
	line "disappointing..."
	done

_VermilionOldRodHouseFishingGuruHowAreTheFishBitingText::
	text "Hello there,"
	line "<PLAYER>!"

	para "How are the fish"
	line "biting?"
	done

_VermilionOldRodHouseFishingGuruNoRoomText::
	text "Oh no!"

	para "You have no room"
	line "for my gift!"
	done


-- MAP SCRIPT --

VermilionOldRodHouse_Script:
	jp EnableAutoTextBoxDrawing

VermilionOldRodHouse_TextPointers:
	def_text_pointers
	dw_const VermilionOldRodHouseFishingGuruText, TEXT_VERMILIONOLDRODHOUSE_FISHING_GURU

VermilionOldRodHouseFishingGuruText:
	text_asm
	ld a, [wd728]
	bit 3, a ; got old rod?
	jr nz, .got_old_rod
	ld hl, .DoYouLikeToFishText
	call PrintText
	call YesNoChoice
	ld a, [wCurrentMenuItem]
	and a
	jr nz, .refused
	lb bc, OLD_ROD, 1
	call GiveItem
	jr nc, .bag_full
	ld hl, wd728
	set 3, [hl] ; got old rod
	ld hl, .TakeThisText
	jr .print_text
.bag_full
	ld hl, .NoRoomText
	jr .print_text
.refused
	ld hl, .ThatsSoDisappointingText
	jr .print_text
.got_old_rod
	ld hl, .HowAreTheFishBitingText
.print_text
	call PrintText
	jp TextScriptEnd

.DoYouLikeToFishText:
	text_far _VermilionOldRodHouseFishingGuruDoYouLikeToFishText
	text_end

.TakeThisText:
	text_far _VermilionOldRodHouseFishingGuruTakeThisText
	sound_get_item_1
	text_far _VermilionOldRodHouseFishingGuruFishingIsAWayOfLifeText
	text_end

.ThatsSoDisappointingText:
	text_far _VermilionOldRodHouseFishingGuruThatsSoDisappointingText
	text_end

.HowAreTheFishBitingText:
	text_far _VermilionOldRodHouseFishingGuruHowAreTheFishBitingText
	text_end

.NoRoomText:
	text_far _VermilionOldRodHouseFishingGuruNoRoomText
	text_end

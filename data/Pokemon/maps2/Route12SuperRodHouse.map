-- MAP OBJECT --

	object_const_def
	const_export ROUTE12SUPERRODHOUSE_FISHING_GURU

Route12SuperRodHouse_Object:
	db $a ; border block

	def_warp_events
	warp_event  2,  7, LAST_MAP, 4
	warp_event  3,  7, LAST_MAP, 4

	def_bg_events

	def_object_events
	object_event  2,  4, SPRITE_FISHING_GURU, STAY, RIGHT, TEXT_ROUTE12SUPERRODHOUSE_FISHING_GURU

	def_warps_to ROUTE_12_SUPER_ROD_HOUSE


-- MAP HEADER --

	map_header Route12SuperRodHouse, ROUTE_12_SUPER_ROD_HOUSE, HOUSE, 0
	end_map_header


-- MAP TEXT --

_Route12SuperRodHouseFishingGuruDoYouLikeToFishText::
	text "I'm the FISHING"
	line "GURU's brother!"

	para "I simply Looove"
	line "fishing!"

	para "Do you like to"
	line "fish?"
	done

_Route12SuperRodHouseFishingGuruReceivedSuperRodText::
	text "Grand! I like"
	line "your style!"

	para "Take this and"
	line "fish, young one!"

	para "<PLAYER> received"
	line "a @"
	text_ram wStringBuffer
	text "!@"
	text_end

_Route12SuperRodHouseFishingGuruFishingWayOfLifeText::
	text_start

	para "Fishing is a way"
	line "of life!"

	para "From the seas to"
	line "rivers, go out"
	cont "and land the big"
	cont "one!"
	done

_Route12SuperRodHouseFishingGuruThatsDisappointingText::
	text "Oh... That's so"
	line "disappointing..."
	done

_Route12SuperRodHouseFishingGuruTryFishingText::
	text "Hello there,"
	line "<PLAYER>!"

	para "Use the SUPER ROD"
	line "in any water!"
	cont "You can catch"
	cont "different kinds"
	cont "of #MON."

	para "Try fishing"
	line "wherever you can!"
	done

_Route12SuperRodHouseFishingGuruNoRoomText::
	text "Oh no!"

	para "I had a gift for"
	line "you, but you have"
	cont "no room for it!"
	done


-- MAP SCRIPT --

Route12SuperRodHouse_Script:
	jp EnableAutoTextBoxDrawing

Route12SuperRodHouse_TextPointers:
	def_text_pointers
	dw_const Route12SuperRodHouseFishingGuruText, TEXT_ROUTE12SUPERRODHOUSE_FISHING_GURU

Route12SuperRodHouseFishingGuruText:
	text_asm
	ld a, [wd728]
	bit 5, a ; received super rod?
	jr nz, .got_item
	ld hl, .DoYouLikeToFishText
	call PrintText
	call YesNoChoice
	ld a, [wCurrentMenuItem]
	and a
	jr nz, .refused
	lb bc, SUPER_ROD, 1
	call GiveItem
	jr nc, .bag_full
	ld hl, wd728
	set 5, [hl] ; received super rod
	ld hl, .ReceivedSuperRodText
	jr .done
.bag_full
	ld hl, .NoRoomText
	jr .done
.refused
	ld hl, .ThatsDisappointingText
	jr .done
.got_item
	ld hl, .TryFishingText
.done
	call PrintText
	jp TextScriptEnd

.DoYouLikeToFishText:
	text_far _Route12SuperRodHouseFishingGuruDoYouLikeToFishText
	text_end

.ReceivedSuperRodText:
	text_far _Route12SuperRodHouseFishingGuruReceivedSuperRodText
	sound_get_item_1
	text_far _Route12SuperRodHouseFishingGuruFishingWayOfLifeText
	text_end

.ThatsDisappointingText:
	text_far _Route12SuperRodHouseFishingGuruThatsDisappointingText
	text_end

.TryFishingText:
	text_far _Route12SuperRodHouseFishingGuruTryFishingText
	text_end

.NoRoomText:
	text_far _Route12SuperRodHouseFishingGuruNoRoomText
	text_end

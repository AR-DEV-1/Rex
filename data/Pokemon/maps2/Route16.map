-- MAP OBJECT --

	object_const_def
	const_export ROUTE16_BIKER1
	const_export ROUTE16_BIKER2
	const_export ROUTE16_BIKER3
	const_export ROUTE16_BIKER4
	const_export ROUTE16_BIKER5
	const_export ROUTE16_BIKER6
	const_export ROUTE16_SNORLAX

Route16_Object:
	db $f ; border block

	def_warp_events
	warp_event 17, 10, ROUTE_16_GATE_1F, 1
	warp_event 17, 11, ROUTE_16_GATE_1F, 2
	warp_event 24, 10, ROUTE_16_GATE_1F, 3
	warp_event 24, 11, ROUTE_16_GATE_1F, 4
	warp_event 17,  4, ROUTE_16_GATE_1F, 5
	warp_event 17,  5, ROUTE_16_GATE_1F, 6
	warp_event 24,  4, ROUTE_16_GATE_1F, 7
	warp_event 24,  5, ROUTE_16_GATE_1F, 8
	warp_event  7,  5, ROUTE_16_FLY_HOUSE, 1

	def_bg_events
	bg_event 27, 11, TEXT_ROUTE16_CYCLING_ROAD_SIGN
	bg_event  5, 17, TEXT_ROUTE16_SIGN

	def_object_events
	object_event 17, 12, SPRITE_BIKER, STAY, LEFT, TEXT_ROUTE16_BIKER1, OPP_BIKER, 5
	object_event 14, 13, SPRITE_BIKER, STAY, RIGHT, TEXT_ROUTE16_BIKER2, OPP_CUE_BALL, 1
	object_event 11, 12, SPRITE_BIKER, STAY, UP, TEXT_ROUTE16_BIKER3, OPP_CUE_BALL, 2
	object_event  9, 11, SPRITE_BIKER, STAY, LEFT, TEXT_ROUTE16_BIKER4, OPP_BIKER, 6
	object_event  6, 10, SPRITE_BIKER, STAY, RIGHT, TEXT_ROUTE16_BIKER5, OPP_CUE_BALL, 3
	object_event  3, 12, SPRITE_BIKER, STAY, RIGHT, TEXT_ROUTE16_BIKER6, OPP_BIKER, 7
	object_event 26, 10, SPRITE_SNORLAX, STAY, DOWN, TEXT_ROUTE16_SNORLAX

	def_warps_to ROUTE_16


-- MAP HEADER --

	map_header Route16, ROUTE_16, OVERWORLD, SOUTH | EAST
	connection south, Route17, ROUTE_17, 0
	connection east, CeladonCity, CELADON_CITY, -4
	end_map_header


-- MAP TEXT --

_Route16Biker1BattleText::
	text "What do you want?"
	done

_Route16Biker1EndBattleText::
	text "Don't you"
	line "dare laugh!"
	prompt

_Route16Biker1AfterBattleText::
	text "We like just"
	line "hanging here,"
	cont "what's it to you?"
	done

_Route16Biker2BattleText::
	text "Nice BIKE!"
	line "Hand it over!"
	done

_Route16Biker2EndBattleText::
	text "Knock"
	line "out!"
	prompt

_Route16Biker2AfterBattleText::
	text "Forget it, who"
	line "needs your BIKE!"
	done

_Route16Biker3BattleText::
	text "Come out and play,"
	line "little mouse!"
	done

_Route16Biker3EndBattleText::
	text "You"
	line "little rat!"
	prompt

_Route16Biker3AfterBattleText::
	text "I hate losing!"
	line "Get away from me!"
	done

_Route16biker4BattleText::
	text "Hey, you just"
	line "bumped me!"
	done

_Route16Biker4EndBattleText::
	text "Kaboom!"
	prompt

_Route16Biker4AfterBattleText::
	text "You can also get"
	line "to FUCHSIA from"
	cont "VERMILION using a"
	cont "coastal road."
	done

_Route16Biker5BattleText::
	text "I'm feeling"
	line "hungry and mean!"
	done

_Route16Biker5EndBattleText::
	text "Bad,"
	line "bad, bad!"
	prompt

_Route16Biker5AfterBattleText::
	text "I like my #MON"
	line "ferocious! They"
	cont "tear up enemies!"
	done

_Route16Biker6BattleText::
	text "Sure, I'll go!"
	done

_Route16Biker6EndBattleText::
	text "Don't make"
	line "me mad!"
	prompt

_Route16Biker6AfterBattleText::
	text "I like harassing"
	line "people with my"
	cont "vicious #MON!"
	done

_Route16Text7::
	text "A sleeping #MON"
	line "blocks the way!"
	done

_Route16SnorlaxWokeUpText::
	text "SNORLAX woke up!"

	para "It attacked in a"
	line "grumpy rage!"
	done

_Route16SnorlaxReturnedToMountainsText::
	text "With a big yawn,"
	line "SNORLAX returned"
	cont "to the mountains!"
	done

_Route16CyclingRoadSignText::
	text "Enjoy the slope!"
	line "CYCLING ROAD"
	done

_Route16SignText::
	text "ROUTE 16"
	line "CELADON CITY -"
	cont "FUCHSIA CITY"
	done


-- MAP SCRIPT --

Route16_Script:
	call EnableAutoTextBoxDrawing
	ld hl, Route16TrainerHeaders
	ld de, Route16_ScriptPointers
	ld a, [wRoute16CurScript]
	call ExecuteCurMapScriptInTable
	ld [wRoute16CurScript], a
	ret

Route16ResetScripts:
	xor a ; SCRIPT_ROUTE16_DEFAULT
	ld [wJoyIgnore], a
	ld [wRoute16CurScript], a
	ld [wCurMapScript], a
	ret

Route16_ScriptPointers:
	def_script_pointers
	dw_const Route16DefaultScript,                  SCRIPT_ROUTE16_DEFAULT
	dw_const DisplayEnemyTrainerTextAndStartBattle, SCRIPT_ROUTE16_START_BATTLE
	dw_const EndTrainerBattle,                      SCRIPT_ROUTE16_END_BATTLE
	dw_const Route16SnorlaxPostBattleScript,        SCRIPT_ROUTE16_SNORLAX_POST_BATTLE

Route16DefaultScript:
	CheckEventHL EVENT_BEAT_ROUTE16_SNORLAX
	jp nz, CheckFightingMapTrainers
	CheckEventReuseHL EVENT_FIGHT_ROUTE16_SNORLAX
	ResetEventReuseHL EVENT_FIGHT_ROUTE16_SNORLAX
	jp z, CheckFightingMapTrainers
	ld a, TEXT_ROUTE16_SNORLAX_WOKE_UP
	ldh [hSpriteIndexOrTextID], a
	call DisplayTextID
	ld a, SNORLAX
	ld [wCurOpponent], a
	ld a, 30
	ld [wCurEnemyLVL], a
	ld a, HS_ROUTE_16_SNORLAX
	ld [wMissableObjectIndex], a
	predef HideObject
	call UpdateSprites
	ld a, SCRIPT_ROUTE16_SNORLAX_POST_BATTLE
	ld [wRoute16CurScript], a
	ld [wCurMapScript], a
	ret

Route16SnorlaxPostBattleScript:
	ld a, [wIsInBattle]
	cp $ff
	jp z, Route16ResetScripts
	call UpdateSprites
	ld a, [wBattleResult]
	cp $2
	jr z, .caught
	ld a, TEXT_ROUTE16_SNORLAX_RETURNED_TO_MOUNTAINS
	ldh [hSpriteIndexOrTextID], a
	call DisplayTextID
.caught
	SetEvent EVENT_BEAT_ROUTE16_SNORLAX
	call Delay3
	ld a, SCRIPT_ROUTE16_DEFAULT
	ld [wRoute16CurScript], a
	ld [wCurMapScript], a
	ret

Route16_TextPointers:
	def_text_pointers
	dw_const Route16Biker1Text,                     TEXT_ROUTE16_BIKER1
	dw_const Route16Biker2Text,                     TEXT_ROUTE16_BIKER2
	dw_const Route16Biker3Text,                     TEXT_ROUTE16_BIKER3
	dw_const Route16Biker4Text,                     TEXT_ROUTE16_BIKER4
	dw_const Route16Biker5Text,                     TEXT_ROUTE16_BIKER5
	dw_const Route16Biker6Text,                     TEXT_ROUTE16_BIKER6
	dw_const Route16SnorlaxText,                    TEXT_ROUTE16_SNORLAX
	dw_const Route16CyclingRoadSignText,            TEXT_ROUTE16_CYCLING_ROAD_SIGN
	dw_const Route16SignText,                       TEXT_ROUTE16_SIGN
	dw_const Route16SnorlaxWokeUpText,              TEXT_ROUTE16_SNORLAX_WOKE_UP
	dw_const Route16SnorlaxReturnedToMountainsText, TEXT_ROUTE16_SNORLAX_RETURNED_TO_MOUNTAINS

Route16TrainerHeaders:
	def_trainers
Route16TrainerHeader0:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_0, 3, Route16Biker1BattleText, Route16Biker1EndBattleText, Route16Biker1AfterBattleText
Route16TrainerHeader1:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_1, 2, Route16Biker2BattleText, Route16Biker2EndBattleText, Route16Biker2AfterBattleText
Route16TrainerHeader2:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_2, 2, Route16Biker3BattleText, Route16Biker3EndBattleText, Route16Biker3AfterBattleText
Route16TrainerHeader3:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_3, 2, Route16biker4BattleText, Route16Biker4EndBattleText, Route16Biker4AfterBattleText
Route16TrainerHeader4:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_4, 2, Route16Biker5BattleText, Route16Biker5EndBattleText, Route16Biker5AfterBattleText
Route16TrainerHeader5:
	trainer EVENT_BEAT_ROUTE_16_TRAINER_5, 4, Route16Biker6BattleText, Route16Biker6EndBattleText, Route16Biker6AfterBattleText
	db -1 ; end

Route16Biker1Text:
	text_asm
	ld hl, Route16TrainerHeader0
	call TalkToTrainer
	jp TextScriptEnd

Route16Biker1BattleText:
	text_far _Route16Biker1BattleText
	text_end

Route16Biker1EndBattleText:
	text_far _Route16Biker1EndBattleText
	text_end

Route16Biker1AfterBattleText:
	text_far _Route16Biker1AfterBattleText
	text_end

Route16Biker2Text:
	text_asm
	ld hl, Route16TrainerHeader1
	call TalkToTrainer
	jp TextScriptEnd

Route16Biker2BattleText:
	text_far _Route16Biker2BattleText
	text_end

Route16Biker2EndBattleText:
	text_far _Route16Biker2EndBattleText
	text_end

Route16Biker2AfterBattleText:
	text_far _Route16Biker2AfterBattleText
	text_end

Route16Biker3Text:
	text_asm
	ld hl, Route16TrainerHeader2
	call TalkToTrainer
	jp TextScriptEnd

Route16Biker3BattleText:
	text_far _Route16Biker3BattleText
	text_end

Route16Biker3EndBattleText:
	text_far _Route16Biker3EndBattleText
	text_end

Route16Biker3AfterBattleText:
	text_far _Route16Biker3AfterBattleText
	text_end

Route16Biker4Text:
	text_asm
	ld hl, Route16TrainerHeader3
	call TalkToTrainer
	jp TextScriptEnd

Route16biker4BattleText:
	text_far _Route16biker4BattleText
	text_end

Route16Biker4EndBattleText:
	text_far _Route16Biker4EndBattleText
	text_end

Route16Biker4AfterBattleText:
	text_far _Route16Biker4AfterBattleText
	text_end

Route16Biker5Text:
	text_asm
	ld hl, Route16TrainerHeader4
	call TalkToTrainer
	jp TextScriptEnd

Route16Biker5BattleText:
	text_far _Route16Biker5BattleText
	text_end

Route16Biker5EndBattleText:
	text_far _Route16Biker5EndBattleText
	text_end

Route16Biker5AfterBattleText:
	text_far _Route16Biker5AfterBattleText
	text_end

Route16Biker6Text:
	text_asm
	ld hl, Route16TrainerHeader5
	call TalkToTrainer
	jp TextScriptEnd

Route16Biker6BattleText:
	text_far _Route16Biker6BattleText
	text_end

Route16Biker6EndBattleText:
	text_far _Route16Biker6EndBattleText
	text_end

Route16Biker6AfterBattleText:
	text_far _Route16Biker6AfterBattleText
	text_end

Route16SnorlaxText:
	text_far _Route16Text7
	text_end

Route16SnorlaxWokeUpText:
	text_far _Route16SnorlaxWokeUpText
	text_end

Route16SnorlaxReturnedToMountainsText:
	text_far _Route16SnorlaxReturnedToMountainsText
	text_end

Route16CyclingRoadSignText:
	text_far _Route16CyclingRoadSignText
	text_end

Route16SignText:
	text_far _Route16SignText
	text_end
